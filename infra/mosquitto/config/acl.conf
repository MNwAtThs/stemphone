# Mosquitto ACL Configuration for Stemphone

# Default deny all
# acl_file denies access by default

# System user (for services)
user stemphone
topic readwrite stemphone/#
topic readwrite $SYS/#

# Guest user (limited access)
user guest
topic read stemphone/rooms/+/chat
topic read stemphone/rooms/+/presence
topic write stemphone/rooms/+/presence

# Pattern for authenticated users
# Users can read/write to their own topics and room topics they join
pattern read stemphone/users/%u/#
pattern write stemphone/users/%u/#
pattern readwrite stemphone/rooms/+/chat
pattern readwrite stemphone/rooms/+/presence
pattern read stemphone/rooms/+/ptt

